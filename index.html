<html>
    <head>
        <title>CR Food Wheel</title>
        <meta content="width=device-width, initial-scale=1" name="viewport" />
        <link rel="stylesheet" href="/css/main.css" type="text/css" />
        <script type="text/javascript" src="/js/Winwheel.min.js"></script>
        <script type="text/javascript" src="/js/TweenMax.min.js"></script>
        <script type="text/javascript" src="/js/underscore-umd-min.js"></script>
        <script type="text/javascript" src="/js/sweetalert2@11.js"></script>
    </head>
    <body x-data="{state: []}"
          x-init="state = await initData();$watch('state.tags', value=>console.log(value));">
        <div align="center">
            <h1>CR Food Wheel</h1>
            <p>Ever found yourself wondering what you should be eating today? Fret not, because this is exactly the tool for a roadie like you üçï<br>
            Just spin the wheel, and you too could be able to decide what to eat without putting much effort in to the decision process üîÆ</p>
            <p>Disclaimer: I take no responsibility in the case of dissatisfaction towards what the wheel picked for you üç©</p>
            <br />
            <input type="checkbox" @click="setExclusiveFlag($el.checked)" id="excl_checkbox">
            <label for="excl_checkbox">I don't want the categories to overlap</label>
            <br /><br />

            <template x-for="tag in state.tags">
                <button @click="selectTag($el)" x-bind:data-tag="tag" class="pill selected" x-text="tag"></button>
            </template>

            <div class="pt-5 container">
                <div class="inner-c">
                    <button id="spin_button" class="action_button" @click="startSpin();">
                        Spin
                    </button>
                </div>
            </div>
            <table cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td class="the_wheel" align="center" valign="center">
                        <div id="pointer">
                            <svg id="triangle" viewBox="0 0 100 100">
                                <polygon points="0 15, 100 15, 50 100"/>
                            </svg>
                        </div>
                        <canvas width="645" height="645"
                        data-responsiveMinWidth="180"
                        data-responsiveScaleHeight="true"   /* Optional Parameters */
                        data-responsiveMargin="100" id="canvas">
                            <p style="{color: white}" align="center">Sorry, your browser doesn't support canvas. Please try another.</p>
                        </canvas>
                    </td>
                </tr>
            </table>
        </div>
        <div align="center">
            <h2>Something missing?</h3>
            <p class="fs-075">
                Contact me directly (<a href="https://github.com/Chogster" target="_blank">@Chogster</a>) or send a PR
            </p>
            <br>
            <p class="version">
                Version: 1.1.0 | <a href="https://github.com/Chogster/cr-food-wheel" target="_blank">üêôüêà‚Äç‚¨õ</a>
            </p>
        </div>
        <script defer src="/js/cdn.min.js"></script>
        <script src="/js/index.js"></script>
    </body>
</html>
